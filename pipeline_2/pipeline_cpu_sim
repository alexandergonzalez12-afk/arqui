#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 9;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
S_0x12f604170 .scope module, "pipeline_cpu_tb" "pipeline_cpu_tb" 2 3;
 .timescale -9 -9;
v0x12f618230_0 .var "clk", 0 0;
v0x12f6182c0_0 .var "reset", 0 0;
S_0x12f6042f0 .scope module, "cpu" "PipelineCPU" 2 8, 3 144 0, S_0x12f604170;
 .timescale -9 -9;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
v0x12f6176c0_0 .net "EX_MEM_alu_result", 31 0, v0x12f614cc0_0;  1 drivers
v0x12f617790_0 .net "EX_MEM_control_signals", 31 0, v0x12f614ed0_0;  1 drivers
v0x12f617860_0 .net "EX_MEM_data", 31 0, v0x12f615070_0;  1 drivers
v0x12f6178f0_0 .net "ID_EX_control_signals", 31 0, v0x12f615660_0;  1 drivers
v0x12f6179c0_0 .net "ID_EX_instr", 31 0, v0x12f6157e0_0;  1 drivers
v0x12f617a90_0 .net "ID_EX_pc", 31 0, v0x12f615960_0;  1 drivers
v0x12f617b20_0 .net "IF_ID_instr", 31 0, v0x12f615fe0_0;  1 drivers
v0x12f617bb0_0 .net "IF_ID_pc", 31 0, v0x12f616190_0;  1 drivers
v0x12f617c80_0 .net "MEM_WB_alu_result", 31 0, v0x12f616b90_0;  1 drivers
v0x12f617d90_0 .net "MEM_WB_control_signals", 31 0, v0x12f616d90_0;  1 drivers
v0x12f617e20_0 .net "MEM_WB_data", 31 0, v0x12f616f20_0;  1 drivers
v0x12f617eb0_0 .net "clk", 0 0, v0x12f618230_0;  1 drivers
v0x12f617f40_0 .net "control_signals", 31 0, v0x12f604770_0;  1 drivers
v0x12f618010_0 .net "instruction", 31 0, v0x12f616690_0;  1 drivers
v0x12f6180f0_0 .net "pc", 31 0, v0x12f6174f0_0;  1 drivers
v0x12f618180_0 .net "reset", 0 0, v0x12f6182c0_0;  1 drivers
S_0x12f604500 .scope module, "control_unit" "ControlUnit" 3 181, 3 34 0, S_0x12f6042f0;
 .timescale -9 -9;
    .port_info 0 /INPUT 32 "instruction";
    .port_info 1 /OUTPUT 32 "control_signals";
v0x12f604770_0 .var "control_signals", 31 0;
v0x12f614830_0 .net "instruction", 31 0, v0x12f615fe0_0;  alias, 1 drivers
E_0x12f604710 .event anyedge, v0x12f614830_0;
S_0x12f6148f0 .scope module, "ex_mem" "EX_MEM" 3 199, 3 96 0, S_0x12f6042f0;
 .timescale -9 -9;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 32 "control_signals_in";
    .port_info 3 /INPUT 32 "alu_result_in";
    .port_info 4 /INPUT 32 "data_in";
    .port_info 5 /OUTPUT 32 "control_signals_out";
    .port_info 6 /OUTPUT 32 "alu_result_out";
    .port_info 7 /OUTPUT 32 "data_out";
L_0x1200400a0 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x12f614c00_0 .net "alu_result_in", 31 0, L_0x1200400a0;  1 drivers
v0x12f614cc0_0 .var "alu_result_out", 31 0;
v0x12f614d70_0 .net "clk", 0 0, v0x12f618230_0;  alias, 1 drivers
v0x12f614e20_0 .net "control_signals_in", 31 0, v0x12f615660_0;  alias, 1 drivers
v0x12f614ed0_0 .var "control_signals_out", 31 0;
L_0x1200400e8 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x12f614fc0_0 .net "data_in", 31 0, L_0x1200400e8;  1 drivers
v0x12f615070_0 .var "data_out", 31 0;
v0x12f615120_0 .net "reset", 0 0, v0x12f6182c0_0;  alias, 1 drivers
E_0x12f614bb0 .event posedge, v0x12f615120_0, v0x12f614d70_0;
S_0x12f615280 .scope module, "id_ex" "ID_EX" 3 187, 3 72 0, S_0x12f6042f0;
 .timescale -9 -9;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 32 "control_signals_in";
    .port_info 3 /INPUT 32 "instr_in";
    .port_info 4 /INPUT 32 "pc_in";
    .port_info 5 /OUTPUT 32 "control_signals_out";
    .port_info 6 /OUTPUT 32 "instr_out";
    .port_info 7 /OUTPUT 32 "pc_out";
v0x12f615500_0 .net "clk", 0 0, v0x12f618230_0;  alias, 1 drivers
v0x12f6155b0_0 .net "control_signals_in", 31 0, v0x12f604770_0;  alias, 1 drivers
v0x12f615660_0 .var "control_signals_out", 31 0;
v0x12f615730_0 .net "instr_in", 31 0, v0x12f615fe0_0;  alias, 1 drivers
v0x12f6157e0_0 .var "instr_out", 31 0;
v0x12f6158b0_0 .net "pc_in", 31 0, v0x12f616190_0;  alias, 1 drivers
v0x12f615960_0 .var "pc_out", 31 0;
v0x12f615a10_0 .net "reset", 0 0, v0x12f6182c0_0;  alias, 1 drivers
S_0x12f615b50 .scope module, "if_id" "IF_ID" 3 170, 3 51 0, S_0x12f6042f0;
 .timescale -9 -9;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 1 "enable";
    .port_info 3 /INPUT 32 "instr_in";
    .port_info 4 /INPUT 32 "pc_in";
    .port_info 5 /OUTPUT 32 "instr_out";
    .port_info 6 /OUTPUT 32 "pc_out";
v0x12f615dc0_0 .net "clk", 0 0, v0x12f618230_0;  alias, 1 drivers
L_0x120040058 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
v0x12f615ea0_0 .net "enable", 0 0, L_0x120040058;  1 drivers
v0x12f615f40_0 .net "instr_in", 31 0, v0x12f616690_0;  alias, 1 drivers
v0x12f615fe0_0 .var "instr_out", 31 0;
v0x12f6160c0_0 .net "pc_in", 31 0, v0x12f6174f0_0;  alias, 1 drivers
v0x12f616190_0 .var "pc_out", 31 0;
v0x12f616230_0 .net "reset", 0 0, v0x12f6182c0_0;  alias, 1 drivers
S_0x12f6163a0 .scope module, "imem" "InstructionMemory" 3 164, 3 19 0, S_0x12f6042f0;
 .timescale -9 -9;
    .port_info 0 /INPUT 32 "address";
    .port_info 1 /OUTPUT 32 "instruction";
v0x12f6165e0_0 .net "address", 31 0, v0x12f6174f0_0;  alias, 1 drivers
v0x12f616690_0 .var "instruction", 31 0;
v0x12f616740 .array "memory", 255 0, 31 0;
E_0x12f616590 .event anyedge, v0x12f6160c0_0;
S_0x12f616810 .scope module, "mem_wb" "MEM_WB" 3 211, 3 120 0, S_0x12f6042f0;
 .timescale -9 -9;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 32 "control_signals_in";
    .port_info 3 /INPUT 32 "alu_result_in";
    .port_info 4 /INPUT 32 "mem_data_in";
    .port_info 5 /OUTPUT 32 "control_signals_out";
    .port_info 6 /OUTPUT 32 "alu_result_out";
    .port_info 7 /OUTPUT 32 "mem_data_out";
v0x12f616ad0_0 .net "alu_result_in", 31 0, v0x12f614cc0_0;  alias, 1 drivers
v0x12f616b90_0 .var "alu_result_out", 31 0;
v0x12f616c30_0 .net "clk", 0 0, v0x12f618230_0;  alias, 1 drivers
v0x12f616ce0_0 .net "control_signals_in", 31 0, v0x12f614ed0_0;  alias, 1 drivers
v0x12f616d90_0 .var "control_signals_out", 31 0;
L_0x120040130 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x12f616e70_0 .net "mem_data_in", 31 0, L_0x120040130;  1 drivers
v0x12f616f20_0 .var "mem_data_out", 31 0;
v0x12f616fd0_0 .net "reset", 0 0, v0x12f6182c0_0;  alias, 1 drivers
S_0x12f617120 .scope module, "pc_reg" "ProgramCounter" 3 156, 3 4 0, S_0x12f6042f0;
 .timescale -9 -9;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 1 "enable";
    .port_info 3 /OUTPUT 32 "pc_out";
v0x12f617340_0 .net "clk", 0 0, v0x12f618230_0;  alias, 1 drivers
L_0x120040010 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
v0x12f617460_0 .net "enable", 0 0, L_0x120040010;  1 drivers
v0x12f6174f0_0 .var "pc_out", 31 0;
v0x12f617580_0 .net "reset", 0 0, v0x12f6182c0_0;  alias, 1 drivers
    .scope S_0x12f617120;
T_0 ;
    %wait E_0x12f614bb0;
    %load/vec4 v0x12f617580_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_0.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f6174f0_0, 0;
    %jmp T_0.1;
T_0.0 ;
    %load/vec4 v0x12f617460_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_0.2, 8;
    %load/vec4 v0x12f6174f0_0;
    %addi 4, 0, 32;
    %assign/vec4 v0x12f6174f0_0, 0;
T_0.2 ;
T_0.1 ;
    %jmp T_0;
    .thread T_0;
    .scope S_0x12f6163a0;
T_1 ;
    %vpi_call 3 26 "$readmemh", "instructions.hex", v0x12f616740 {0 0 0};
    %end;
    .thread T_1;
    .scope S_0x12f6163a0;
T_2 ;
    %wait E_0x12f616590;
    %load/vec4 v0x12f6165e0_0;
    %ix/load 5, 2, 0;
    %flag_set/imm 4, 0;
    %shiftr 5;
    %ix/vec4 4;
    %load/vec4a v0x12f616740, 4;
    %store/vec4 v0x12f616690_0, 0, 32;
    %jmp T_2;
    .thread T_2, $push;
    .scope S_0x12f615b50;
T_3 ;
    %wait E_0x12f614bb0;
    %load/vec4 v0x12f616230_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f615fe0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f616190_0, 0;
    %jmp T_3.1;
T_3.0 ;
    %load/vec4 v0x12f615ea0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.2, 8;
    %load/vec4 v0x12f615f40_0;
    %assign/vec4 v0x12f615fe0_0, 0;
    %load/vec4 v0x12f6160c0_0;
    %assign/vec4 v0x12f616190_0, 0;
T_3.2 ;
T_3.1 ;
    %jmp T_3;
    .thread T_3;
    .scope S_0x12f604500;
T_4 ;
    %wait E_0x12f604710;
    %load/vec4 v0x12f614830_0;
    %parti/s 6, 26, 6;
    %dup/vec4;
    %pushi/vec4 0, 0, 6;
    %cmp/u;
    %jmp/1 T_4.0, 6;
    %dup/vec4;
    %pushi/vec4 35, 0, 6;
    %cmp/u;
    %jmp/1 T_4.1, 6;
    %dup/vec4;
    %pushi/vec4 43, 0, 6;
    %cmp/u;
    %jmp/1 T_4.2, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 6;
    %cmp/u;
    %jmp/1 T_4.3, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x12f604770_0, 0, 32;
    %jmp T_4.5;
T_4.0 ;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v0x12f604770_0, 0, 32;
    %jmp T_4.5;
T_4.1 ;
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x12f604770_0, 0, 32;
    %jmp T_4.5;
T_4.2 ;
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x12f604770_0, 0, 32;
    %jmp T_4.5;
T_4.3 ;
    %pushi/vec4 16, 0, 32;
    %store/vec4 v0x12f604770_0, 0, 32;
    %jmp T_4.5;
T_4.5 ;
    %pop/vec4 1;
    %jmp T_4;
    .thread T_4, $push;
    .scope S_0x12f615280;
T_5 ;
    %wait E_0x12f614bb0;
    %load/vec4 v0x12f615a10_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f615660_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f6157e0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f615960_0, 0;
    %jmp T_5.1;
T_5.0 ;
    %load/vec4 v0x12f6155b0_0;
    %assign/vec4 v0x12f615660_0, 0;
    %load/vec4 v0x12f615730_0;
    %assign/vec4 v0x12f6157e0_0, 0;
    %load/vec4 v0x12f6158b0_0;
    %assign/vec4 v0x12f615960_0, 0;
T_5.1 ;
    %jmp T_5;
    .thread T_5;
    .scope S_0x12f6148f0;
T_6 ;
    %wait E_0x12f614bb0;
    %load/vec4 v0x12f615120_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f614ed0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f614cc0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f615070_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x12f614e20_0;
    %assign/vec4 v0x12f614ed0_0, 0;
    %load/vec4 v0x12f614c00_0;
    %assign/vec4 v0x12f614cc0_0, 0;
    %load/vec4 v0x12f614fc0_0;
    %assign/vec4 v0x12f615070_0, 0;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x12f616810;
T_7 ;
    %wait E_0x12f614bb0;
    %load/vec4 v0x12f616fd0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_7.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f616d90_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f616b90_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x12f616f20_0, 0;
    %jmp T_7.1;
T_7.0 ;
    %load/vec4 v0x12f616ce0_0;
    %assign/vec4 v0x12f616d90_0, 0;
    %load/vec4 v0x12f616ad0_0;
    %assign/vec4 v0x12f616b90_0, 0;
    %load/vec4 v0x12f616e70_0;
    %assign/vec4 v0x12f616f20_0, 0;
T_7.1 ;
    %jmp T_7;
    .thread T_7;
    .scope S_0x12f604170;
T_8 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x12f618230_0, 0, 1;
T_8.0 ;
    %delay 5, 0;
    %load/vec4 v0x12f618230_0;
    %inv;
    %store/vec4 v0x12f618230_0, 0, 1;
    %jmp T_8.0;
    %end;
    .thread T_8;
    .scope S_0x12f604170;
T_9 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x12f6182c0_0, 0, 1;
    %delay 15, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x12f6182c0_0, 0, 1;
    %end;
    .thread T_9;
    .scope S_0x12f604170;
T_10 ;
    %vpi_call 2 27 "$monitor", "Time=%0dns | PC=%h | IF/ID Instr=%h | ID/EX Instr=%h | EX/MEM Instr=%h | MEM/WB Instr=%h", $time, v0x12f6180f0_0, v0x12f617b20_0, v0x12f6179c0_0, v0x12f617790_0, v0x12f617d90_0 {0 0 0};
    %end;
    .thread T_10;
    .scope S_0x12f604170;
T_11 ;
    %delay 100, 0;
    %vpi_call 2 33 "$finish" {0 0 0};
    %end;
    .thread T_11;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "pipeline_cpu_tb.v";
    "PipelineCPU.v";
